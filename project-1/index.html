<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>little lemon</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<section>
  <img class="mother-tree" src="DES342_Proj01_Mother-TreeMother-Tree-V2.png" alt="The Mother Tree">
</section>

<div>
  <img class="lemon" src="lemon.png" alt="The Little lemon">
</div>

<div class="walkman">
  <img src="DES342_Proj01_walk-cycle.gif" alt="walking man walking">
</div>

<div class="title">little lemon</div>

<section class="verse">
  <div class="verse1">
    <p>little lemon, little lemon</p>
    <p>hanging on a tree</p>
    <p>clinging to its branch</p>
    <p>as you dance in the breeze</p>
  </div>
  <div class="verse2">
    <p>mother tree, mother tree</p>
    <p>you let your lemon go</p>
    <p>it&apos;s falling through the sky</p>
    <p>as your bare branch shows</p>
  </div>
  <div class="verse3">
    <p>cold earth, cold earth</p>
    <p>your dirt is on its flesh</p>
    <p>yet it still fell on you</p>
    <p>now there it will rest</p>
  </div>
  <div class="verse4">
    <p>walk man, walk man</p>
    <p>what&apos;s that in the dirt?</p>
    <p>there&apos;s a little lemon</p>
    <p>for you to give some worth</p>
  </div>
  <div class="verse5">
    <p>little lemon, little lemon</p>
    <p>walk man passed you by</p>
    <p>now you&apos;ve been left alone</p>
    <p>please don&apos;t cry.</p>
  </div>
</section>

<div class="arrow">&#11163;</div>

<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.7/dist/gsap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.7/dist/ScrollTrigger.min.js"></script>
<script>

gsap.registerPlugin(ScrollTrigger);


gsap.to(".lemon", {
  scrollTrigger: {
    trigger: '.mother-tree',
    start: "top+=200 top",
    end: "bottom bottom",
    scrub: true
    // markers: true
  },
  rotate: -80,
  y: 900
})

gsap.to(".arrow", {
  scrollTrigger: {
    trigger: '.verse1',
    start: "top center",
    end: "center top+=200",
    toggleActions: "play none reverse reverse"
  },
  opacity: 0
});

gsap.set('.verse1', {opacity: 0})
gsap.set('.verse2', {opacity: 0})
gsap.set('.verse3', {opacity: 0})
gsap.set('.verse4', {opacity: 0})
gsap.set('.verse5', {opacity: 0})

gsap.to('.title', {
  keyframes: {
    "0%": {opacity: 100},
    "100%": {opacity: 0}
  },
  scrollTrigger: {
    trigger: '.title',
    start: "bottom center",
    end: "bottom top+=200",
    toggleActions: "play none reverse reverse",
    scrub: 0.5
  },
})

gsap.to('.verse1', {
  keyframes: {
    "0%": {opacity: 0},
    "50%": {opacity: 100}
  },
  scrollTrigger: {
    trigger: '.verse1',
    start: "top center",
    end: "top top+=200",
    toggleActions: "play none reverse reverse",
    scrub: 0.5
  },
})

gsap.to('.verse1', {
  keyframes: {
    "1%": {y: 0, opacity: 100},
    "75%": {y: 200, opacity: 0},
    "100%": {opacity: 0}
  },
  scrollTrigger: {
    trigger: '.verse1',
    start: "center center",
    end: "center top+=200",
    toggleActions: "play none reverse reverse",
    scrub: 0.5
  }
});

gsap.to('.verse2', {
  keyframes: {
    "0%": {opacity: 0},
    "50%": {opacity: 100}
  },
  scrollTrigger: {
    trigger: '.verse1',
    start: 'bottom center',
    end: 'bottom top+=200',
    toggleActions: "play none reverse reverse",
    scrub: 0.5
  },
});

gsap.to('.verse2', {
  keyframes: {
    "1%": {y: 0, opacity: 100},
    "75%": {y: 200},
    "100%": {opacity: 0}
  },
  scrollTrigger: {
    trigger: '.verse2',
    start: 'center center',
    end: 'center top+=200',
    toggleActions: "play none reverse reverse",
    scrub: 0.5
  }
});

gsap.to('.verse3', {
  keyframes: {
    "0%": {opacity: 0},
    "50%": {opacity: 100}
  },
  scrollTrigger: {
    trigger: '.verse3',
    start: 'top center',
    end: 'top top+=200',
    toggleActions: "play none reverse reverse",
    scrub: true
  }
})

gsap.to('.verse3', {
  keyframes: {
    "1%": {opacity: 100},
    "50%": {opacity: 0},
    "100%": {opacity: 0}
  },
  scrollTrigger: {
    trigger: '.verse3',
    start: 'center center',
    end: 'center top+=200',
    toggleActions: "play none reverse reverse",
    scrub: true
  }
})


let tl=gsap.timeline({
  scrollTrigger: {
    trigger: '.verse3',
    start: 'bottom+=35 center',
    end: 'bottom+=200 top+=200',
    toggleActions: "play none reset reset"
  }
});

tl.to('.verse4', {
  opacity: 100
}).to('.walkman', {
  x: 1750,
  duration: 10,
  ease: "none",
}).to('.verse4', {
  opacity: 0
}).to('.verse5', {
  opacity: 100,
  delay: 0.25,
})


</script>
</body>
</html>